{% extends "layout.html" %}
{% block content %}
<h2 class="form-title">Review & Generate</h2>
<p class="text-muted mb-4">Review all your information below. If everything looks good, generate your CV website!</p>

<!-- Personal Details -->
<div class="mb-4 p-4 border rounded-3">
    <h4 class="d-flex justify-content-between align-items-center">Personal Details <a href="{{ url_for('personal_details') }}" class="btn btn-sm btn-outline-secondary"><i class="fa-solid fa-pen-to-square"></i> Edit</a></h4>
    <hr>
    <p><strong>Name:</strong> {{ data.personal.full_name }}</p>
    <p><strong>Email:</strong> {{ data.personal.email }}</p>
    <p><strong>Phone:</strong> {{ data.personal.phone }}</p>
    <p><strong>LinkedIn:</strong> <a href="{{ data.personal.linkedin }}">{{ data.personal.linkedin }}</a></p>
    <p><strong>Profile Picture URL:</strong> {{ data.personal.profile_pic_url }}</p>
    <p><strong>Summary:</strong> {{ data.personal.summary }}</p>
</div>

<!-- Work Experience -->
<div class="mb-4 p-4 border rounded-3">
    <h4 class="d-flex justify-content-between align-items-center">Work Experience <a href="{{ url_for('work_experience') }}" class="btn btn-sm btn-outline-secondary"><i class="fa-solid fa-pen-to-square"></i> Edit</a></h4>
    <hr>
    {% if data.experience %}
        {% for exp in data.experience %}
            <div class="mb-3 pb-2 border-bottom">
                <p><strong>Title:</strong> {{ exp.job_title }}</p>
                <p><strong>Company:</strong> {{ exp.company }}</p>
                <p><strong>Duration:</strong> {{ exp.start_date }} - {{ exp.end_date }}</p>
                <p><strong>Description:</strong><br>{{ exp.description | nl2br }}</p>
            </div>
        {% endfor %}
    {% else %}
        <p class="text-muted">No work experience added.</p>
    {% endif %}
</div>

<!-- Education -->
<div class="mb-4 p-4 border rounded-3">
    <h4 class="d-flex justify-content-between align-items-center">Education <a href="{{ url_for('education') }}" class="btn btn-sm btn-outline-secondary"><i class="fa-solid fa-pen-to-square"></i> Edit</a></h4>
    <hr>
    {% if data.education %}
        {% for edu in data.education %}
            <div class="mb-3 pb-2 border-bottom">
                <p><strong>Degree:</strong> {{ edu.degree }}</p>
                <p><strong>Institution:</strong> {{ edu.institution }}</p>
                <p><strong>Year:</strong> {{ edu.grad_year }}</p>
            </div>
        {% endfor %}
    {% else %}
        <p class="text-muted">No education entries added.</p>
    {% endif %}
</div>

<!-- Skills -->
<div class="mb-4 p-4 border rounded-3">
    <h4 class="d-flex justify-content-between align-items-center">Skills <a href="{{ url_for('skills') }}" class="btn btn-sm btn-outline-secondary"><i class="fa-solid fa-pen-to-square"></i> Edit</a></h4>
    <hr>
    <p>{{ data.skills }}</p>
</div>

<div class="d-grid gap-3 mt-5">
    <a href="{{ url_for('generate_cv') }}" class="btn btn-primary btn-lg"><i class="fa-solid fa-rocket"></i> Generate My CV Website!</a>
    <a href="{{ url_for('clear_session') }}" class="btn btn-danger"><i class="fa-solid fa-trash"></i> Start Over</a>
</div>
{% endblock %}